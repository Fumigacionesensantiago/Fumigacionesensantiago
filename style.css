/* ================= Base ================= */
:root{
  --bg:#ffffff; --card:#f3f4f6; --ink:#111111; --muted:#6b7280; --line:#e5e7eb;
  --brand:#111111; --wa:#25D366; --ig:#E1306C; --focus:#11111133;
  --radius:18px; --radius-lg:26px; --shadow:0 10px 24px rgba(0,0,0,.06);
  --navH:68px;

  /* Tipografías / tamaños */
  --fs-body:16px; --fs-small:13px; --fs-btn:15px; --fs-h2:clamp(22px,4.5vw,32px);

  /* Botones globales */
  --btn-h:48px; --btn-px:18px; --btn-gap:10px; --btn-radius:14px;

  /* Contacto (ajusta esto para el ancho de ambos botones) */
  --contact-btn-w:150px; /* Esta variable se reconfigurará para un ancho adaptable */
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:'Poppins',system-ui,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--ink); background:var(--bg); font-size:var(--fs-body);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
a{color:inherit; text-decoration:none}
img{max-width:100%; height:auto; display:block}
.container{width:min(1120px, 92vw); margin-inline:auto}
.grid{display:grid; gap:24px}

/* ================= NAV ================= */
header{
  position:sticky; top:0; z-index:40;
  background:rgba(255,255,255,.8); backdrop-filter:saturate(180%) blur(10px);
  border-bottom:1px solid var(--line);
}
.nav{display:flex; align-items:center; justify-content:space-between; padding:14px 0}
.brand{display:inline-flex; align-items:center; gap:12px; font-weight:700; letter-spacing:.2px}
.brand-logo{width:clamp(34px, 4.5vw, 56px); height:auto; display:block}
.menu{display:flex; gap:18px; align-items:center}
.menu a{padding:8px 10px; border-radius:10px}
.menu a:hover{background:var(--card)}
.burger{display:none; background:none; border:0; padding:8px; border-radius:10px}
.burger:focus-visible{outline:2px solid var(--brand)}
@media (max-width:840px){
  .menu{display:none}
  .burger{display:inline-grid}
  .menu.open{
    display:grid; position:absolute; top:64px; right:16px; background:var(--bg);
    border:1px solid var(--line); border-radius:12px; padding:10px; gap:6px; box-shadow:var(--shadow);
  }
}

/* ================ HERO ================= */
.hero{min-height:calc(100svh - var(--navH)); display:grid; align-items:center; padding:32px 0 40px}
.hero .wrap{display:grid; gap:32px; grid-template-columns:1.05fr .95fr; align-items:center}
.squiggle{position:relative; display:inline-block}
.squiggle:after{
  content:""; position:absolute; left:0; bottom:-10px; height:9px; width:140px;
  background:repeating-linear-gradient(90deg,#d1d5db 0 10px,transparent 10px 20px);
  mask: radial-gradient(6px 6px at 6px 6px,#000 98%,transparent 102%) left/20px 100% repeat-x;
}
.hero-left h1{font-size:clamp(34px,7.2vw,64px); line-height:1.02; margin:0 0 16px; letter-spacing:-0.5px}
.hero-left p{color:var(--muted); font-size:clamp(16px,2.5vw,18px); margin:0 0 20px}
.hero-right{
  background:linear-gradient(180deg,#f8fafc 0%,#eef2f7 100%);
  border:1px solid var(--line); border-radius:var(--radius-lg); padding:22px;
  box-shadow:0 24px 60px rgba(0,0,0,.10);
  display:grid; gap:16px; justify-items:center;
}
.hero-img{
  width:100%; max-width:720px; border-radius:20px;
  filter:drop-shadow(0 12px 34px rgba(0,0,0,.12));
  transform-origin:50% 80%; animation:wobbleHero 3s ease-in-out infinite; will-change:transform;
}
@keyframes wobbleHero{
  0%,100%{transform:translateX(0) rotate(0deg)}
  10%{transform:translateX(-3px) rotate(-2.2deg)}
  20%{transform:translateX(3px) rotate(2.4deg)}
  30%{transform:translateX(-2px) rotate(-1.6deg)}
  40%{transform:translateX(2px) rotate(1.6deg)}
  50%{transform:translateX(0) rotate(0.8deg)}
  60%{transform:translateX(-1px) rotate(-1.2deg)}
  70%{transform:translateX(1px) rotate(1.2deg)}
  80%{transform:translateX(-0.5px) rotate(-0.6deg)}
  90%{transform:translateX(0.5px) rotate(0.6deg)}
}

/* ============== Botones (homogeneizados) ============== */
.btn, .submit{
  display:inline-flex; align-items:center; justify-content:center; gap:var(--btn-gap);
  height:var(--btn-h); padding:0 var(--btn-px);
  border-radius:var(--btn-radius);
  font-weight:600; font-size:var(--fs-btn); line-height:1; cursor:pointer;
  transition:transform .15s ease, box-shadow .2s ease, filter .2s ease, background-color .2s ease;
  border:1px solid transparent;
}
.btn:hover, .submit:hover{transform:translateY(-2px); filter:saturate(1.06); box-shadow:0 10px 26px rgba(0,0,0,.14)}
.btn:active, .submit:active{transform:translateY(0)}
.btn-wa{background:var(--wa); color:#062e11}
.btn-ig{background:var(--ig); color:#fff}
.btn-phone{background:#111; color:#fff}
.submit{background:#111; color:#fff; border-color:#111}
.cta-under{display:flex; flex-wrap:wrap; gap:12px; justify-content:center; width:100%}
@media (max-width:420px){ .btn, .submit{width:100%} }

/* Responsive hero */
@media (max-width:960px){
  .hero .wrap{grid-template-columns:1fr; gap:26px}
  .hero-right{order:-1}
  .hero-img{max-width:520px; margin-inline:auto}
}

/* =============== Secciones genéricas =============== */
section{padding:40px 0}
.section-title{font-size:var(--fs-h2); margin:0 0 6px}
.section-sub{color:var(--muted); margin:0 0 22px}

/* CARDS */
.cards{grid-template-columns:repeat(12,1fr)}
.card{
  grid-column:span 12; background:var(--card); border:1px solid var(--line); border-radius:var(--radius);
  padding:18px; box-shadow:var(--shadow);
  display:grid; grid-template-columns:72px 1fr; gap:16px; align-items:flex-start;
}
.card h3{margin:2px 0 6px; font-size:18px}
.card p{margin:0; color:var(--muted); line-height:1.6}
@media (min-width:780px){ .card{grid-column:span 6} }

/* TIMELINE / HISTORIAS */
.timeline{display:grid; gap:18px}
.story{
  background:var(--card); border:1px solid var(--line); border-radius:var(--radius);
  padding:18px; box-shadow:var(--shadow);
  display:grid; grid-template-columns:88px 1fr; gap:16px;
}
.story img{width:88px; height:88px; object-fit:contain; background:#fff; border:1px dashed #d1d5db; border-radius:14px}
.story h3{margin:0 0 6px}
.story p{margin:0; color:var(--muted)}

/* Formularios */
.form-wrap{background:var(--card); border:1px solid var(--line); border-radius:var(--radius); padding:22px; box-shadow:var(--shadow)}
form{display:grid; gap:12px}
label{font-weight:600; font-size:14px}
input,textarea{
  width:100%; padding:12px 14px; border:1px solid #cfd3d8; border-radius:12px; background:#fff; font:inherit; color:var(--ink);
}
input:focus,textarea:focus{outline:none; box-shadow:0 0 0 4px var(--focus)}
/* NO definimos .actions global aquí para no interferir con Contacto */
.muted{color:var(--muted); font-size:var(--fs-small)}
.inline{display:flex; gap:10px; align-items:center}

/* FAB WhatsApp */
.fab-wa{
  position:fixed; right:16px; bottom:16px; width:56px; height:56px; border-radius:50%;
  display:grid; place-items:center; background:#fff; border:2px solid var(--wa); box-shadow:var(--shadow);
  transition:transform .15s ease, box-shadow .2s ease;
}
.fab-wa:hover{transform:translateY(-2px); box-shadow:var(--shadow)}

/* Footer */
footer{border-top:1px solid var(--line); padding:28px 0; color:var(--muted)}

/* Fade-in */
[data-anim]{opacity:0; transform:translateY(10px); transition:opacity .5s ease, transform .5s ease}
[data-anim].in{opacity:1; transform:translateY(0)}

/* Utils */
.hidden{display:none !important}
.center{text-align:center}

/* Print */
@media print{
  header, .fab-wa{display:none}
  a[href^="http"]:after{content:" (" attr(href) ")"; font-size:smaller; color:#555}
}

/* ============ CONTACTO (exacto a lo pedido) ============ */
/* Título arriba */
.contacto-head{margin-bottom:18px}
.contacto-head .section-title{margin-bottom:6px}
.contacto-head .section-sub{margin-bottom:10px}

/* Dos columnas en desktop: izq (imagen + datos), der (form) */
.contacto-grid2{display:grid; gap:22px; align-items:start}
@media (min-width:980px){ .contacto-grid2{grid-template-columns:.9fr 1.1fr} }

.col-izq{display:grid; gap:16px; align-content:start; justify-items:start}
.fumigador-img{
  width:200px; height:auto; margin:0; justify-self:start; display:block;
  filter:drop-shadow(0 8px 18px rgba(0,0,0,.08));
}
@media (max-width:979.98px){ .fumigador-img{width:220px} }
.datos-contacto{padding:20px} /* reusa .form-wrap */

/* ------- Botonera del formulario: centrada y de igual ancho ------- */
#leadForm .actions{
  display:grid;
  /* Configura 2 columnas (o más) de igual ancho (1fr) dentro del contenedor */
  grid-template-columns:repeat(2, 1fr); 
  justify-content:center; 
  align-items:center;
  gap:16px;
}
#leadForm .actions > *{
  /* El <button> y el <a> */
  /* Asegura que ocupen el 100% del espacio de su celda en el grid */
  display:inline-flex;
  align-items:center; justify-content:center;
  width:100%; /* <<--- Clave para que ocupen todo el 1fr */
  height:var(--btn-h);
  padding:0 var(--btn-px);
  box-sizing:border-box;
}

/* En móvil: apilados a 100% */
@media (max-width:640px){
  #leadForm .actions{
    /* En móvil, apila en una sola columna */
    grid-template-columns:1fr; 
  }
  #leadForm .actions > *{
    width:100%;
    max-width:420px;
    margin-inline:auto;
  }
}





/* ===== PATCH MOBILE ===== */
@media (max-width: 768px){
  /* Contenedor de cabecera + hero + titular */
  .shell { display:flex; flex-direction:column; }

  /* Asegura que el H1 vaya antes y el hero después */
  .headline { order:1; z-index: 2; }
  .hero     { order:2; }

  /* Evita que botones/imagen se monten sobre el texto */
  .hero, .hero * { position: static !important; } /* si tuvieras absolutos ahí */
  .hero-card{ box-shadow: var(--shadow); border-radius: var(--radius); padding:16px; }
  .hero-card img{ max-width:100%; height:auto; display:block; }

  /* Botones del hero */
  .cta-row{ display:flex; gap:12px; flex-wrap:wrap; margin-top:12px; }
  .cta-row a{ flex:1 1 180px; text-align:center; padding:14px 16px; border-radius:14px; }

  /* Deja aire entre navbar fijo y contenido */
  .page { margin-top: clamp(64px, 10vh, 96px); }
}



/* ================================
   MÓVIL (≤768px) – v3 compacto
   ================================ */
@media (max-width: 768px){

  /* Escala base pequeña y ligera */
  html { font-size: 12px; }         /* base global */
  body { line-height: 1.55; letter-spacing: 0.1px; }

  h1 { font-size: 1.8rem; line-height: 1.2; font-weight: 700; }
  h2 { font-size: 1.4rem; line-height: 1.25; }
  h3 { font-size: 1.15rem; line-height: 1.25; }
  p, li, label, input, textarea, button { font-size: 1rem; }

  /* Más aire entre secciones */
  section { margin: 2rem 0; padding-inline: 1rem; }

  /* Tarjetas más ligeras */
  .card, .service-card, .story-card, .case-card, .contact-card, .hero-card {
    background: #f3f4f6;
    border: 1px solid rgba(0,0,0,0.06);
    box-shadow: 0 2px 10px rgba(0,0,0,0.03);
    border-radius: 14px;
    padding: 1.25rem 1rem;
  }

  /* Imagen principal más pequeña */
  .hero-illust img {
    max-width: 75%;
    height: auto;
    display: block;
    margin-inline: auto;
  }

  /* Botones más pequeños y alineados */
  .cta-row, .form-buttons {
    display: flex;
    gap: 0.6rem;
    flex-wrap: wrap;
  }
  .cta-row .btn, .form-buttons button {
    flex: 1;
    padding: 0.8rem 1rem;
    border-radius: 10px;
    font-size: 1rem;
  }

  /* Campos del formulario más compactos */
  input, textarea, select {
    padding: 0.8rem 1rem;
    border-radius: 10px;
  }

  /* Footer más limpio */
  footer {
    text-align: center;
    font-size: 0.9rem;
    padding: 1.25rem 1rem;
  }

  /* ——— Ocultar cualquier ícono flotante ——— */
  .whatsapp-helper,
  .floating-helper,
  .floating-widget,
  .chat-widget,
  .wa-bubble,
  .fab-whatsapp,
  .btn-whatsapp-fixed,
  [class*="whats"][class*="fix"],
  [style*="position: fixed"][style*="bottom"] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }
}






/* ===== MÓVIL – Slide 1 (título protagonista, texto menor, sin imagen) ===== */
@media (max-width: 768px){

  /* Estructura y respiración */
  .hero{
    min-height: auto;
    padding: 34px 0 22px;              /* más aire arriba/abajo */
  }
  .hero .wrap{
    grid-template-columns: 1fr;
    gap: 12px;
  }

  /* Ocultar ilustración/tarjeta del hero en móviles */
  .hero-right,
  .hero-img,
  .hero-illust,
  .hero-illust img{
    display: none !important;
  }

  /* Título centrado con degradado */
  .hero-left{ text-align: center; }
  .hero-left h1{
    font-size: clamp(30px, 8.8vw, 42px) !important;  /* más grande arriba */
    line-height: 1.08;
    letter-spacing: -0.3px;
    margin: 0 auto 10px;
    background: linear-gradient(180deg, #111 0%, #4b5563 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;                                /* efecto degradado */
  }

  /* Cuerpo más pequeño y contenido */
  .hero-left p{
    font-size: .92rem !important;                      /* menos tamaño abajo */
    color: var(--muted);
    max-width: 36ch;
    margin: 0 auto;                                    /* centrado */
  }

  /* Más separación entre “arriba” (título/texto) y “abajo” (botón) */
  .cta-under{
    justify-content: center;
    margin-top: 18px;                                  /* aire extra */
  }

  /* CTA más discreto y pequeño */
  .btn, .submit{
    height: 40px;
    padding: 0 14px;
    border-radius: 12px;
    font-size: .95rem;
  }
  .btn-ig{
    /* filtro cinemático para bajar protagonismo sin cambiar marca */
    filter: saturate(.82) brightness(.98) contrast(.92) hue-rotate(-6deg);
  }

  /* Por si quedara algún flotante */
  .fab-wa,
  .floating-helper,
  .wa-bubble,
  .btn-whatsapp-fixed,
  [class*="whats"][class*="fix"],
  [style*="position: fixed"][style*="bottom"]{
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }
}






/* ===== WhatsApp FAB: visible en escritorio, oculto en móviles ===== */

/* Asegura visibilidad por defecto (≥769px) */
@media (min-width: 769px){
  .fab-wa{ 
    display: grid !important;        /* o block/inline-grid según tu diseño */
    place-items: center;
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
  }
}

/* Ocultar solo en móviles (≤768px) */
@media (max-width: 768px){
  .fab-wa,
  .wa-fab,
  .whatsapp-fab,
  .btn-whatsapp-fixed,
  [class*="whats"][class*="fix"],
  a[href*="wa.me"][style*="position: fixed"],
  a[href*="api.whatsapp.com"][style*="position: fixed"]{
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }
}










/* Móvil: aire en el hero, más separación y sin que asome "Servicios" */
@media (max-width: 768px){

  /* 1) El hero ocupa la primera pantalla completa (sin mostrar la 2ª sección) */
  .hero{
    /* llena el alto visible restando la barra (usa tu --navH) */
    min-height: calc(100svh - var(--navH)) !important;
    display: grid !important;
    align-content: center !important;   /* centra el bloque interior */
    padding: 36px 0 32px !important;    /* aire arriba/abajo */
  }

  /* 2) Título y párrafos bien centrados y con respiración */
  .hero-left{ text-align:center !important; padding-inline: 22px !important; }
  .hero-left h1{ margin: 0 auto 14px !important; max-width: 22ch !important; }
  .hero-left p{
    font-size: .92rem !important;
    color: var(--muted) !important;
    max-width: 36ch !important;
    margin: 0 auto 18px !important;     /* + aire bajo cada párrafo */
  }
  .hero-left p + p{ margin-top: 6px !important; } /* separación entre párrafos */

  /* 3) Más espacio antes del botón */
  .cta-under{ margin-top: 24px !important; }       /* párrafos → botón */

  /* 4) Por si tu heading de la siguiente sección fuera "Servicios",
        evitamos que aparezca en la primera pantalla SIN ocultarlo del todo */
  #servicios .section-title,
  section[id*="servicio"] .section-title{
    /* si igualmente asoma por tamaños raros, empújalo un poco más */
    scroll-margin-top: 80px;            /* no afecta layout, solo anclas */
  }
}










/* MÓVIL: Casos de éxito con imagen protagonista (override del 88x88) */
@media (max-width: 768px){

  /* Tarjeta a una columna y con aire */
  .timeline{ gap: 20px !important; }
  .story{
    grid-template-columns: 1fr !important;
    gap: 12px !important;
    align-items: start !important;
    padding: 16px !important;
  }

  /* Anula el 88x88 y convierte la imagen en portada */
  .timeline .story > img,
  .timeline .story .story-img{
    width: 100% !important;
    height: min(55vh, 420px) !important;   /* ajusta aquí la “altura de portada” */
    object-fit: cover !important;
    border: 0 !important;                  /* quita borde punteado */
    border-radius: 16px !important;
    background: #fff !important;
    display: block !important;
  }

  /* Tipos cómodos bajo la imagen */
  .story h3{
    font-size: 1.15rem !important;
    margin: 8px 0 6px !important;
  }
  .story p{
    font-size: .95rem !important;
    line-height: 1.6 !important;
  }
}







/* MÓVIL – Historias divertidas: imagen grande + texto debajo */
@media (max-width: 768px){

  /* 1) Forzamos 1 columna en las tarjetas de esta sección */
  section[id*="historia"], 
  section[id*="diver"], 
  .timeline.historias{ /* por si le pones esta clase al section */
    /* no estilos aquí; solo usamos como ancla */
  }
  section[id*="historia"] .story,
  section[id*="diver"] .story,
  .timeline.historias .story,
  /* fallback genérico por si reutiliza .timeline */
  .timeline .story{
    grid-template-columns: 1fr !important;
    gap: 12px !important;
    align-items: start !important;
    padding: 16px !important;
  }

  /* 2) Imagen protagonista (anula el 88x88 y quita borde punteado) */
  section[id*="historia"] .story > img,
  section[id*="diver"] .story > img,
  .timeline.historias .story > img,
  section[id*="historia"] .story picture > img,
  section[id*="diver"] .story picture > img,
  .timeline.historias .story picture > img,
  section[id*="historia"] .story img,
  section[id*="diver"] .story img,
  .timeline.historias .story img{
    width: 100% !important;
    height: min(55vh, 420px) !important;   /* sube/baja si quieres */
    object-fit: cover !important;
    border: 0 !important;
    border-radius: 16px !important;
    background: #fff !important;
    display: block !important;
  }

  /* 3) Tipografía y respiración */
  section[id*="historia"] .story h3,
  section[id*="diver"] .story h3,
  .timeline.historias .story h3,
  .timeline .story h3{
    font-size: 1.15rem !important;
    margin: 8px 0 6px !important;
  }
  section[id*="historia"] .story p,
  section[id*="diver"] .story p,
  .timeline.historias .story p,
  .timeline .story p{
    font-size: .95rem !important;
    line-height: 1.6 !important;
  }
}



/* === Visibilidad explícita del fumigador === */
@media (max-width: 979.98px){
  .fumigador-img { display: none !important; }
}

@media (min-width: 980px){
  .fumigador-img{
    display: block !important;
    width: 220px !important;
    height: auto !important;
    margin: 6px 0 10px 0 !important;
    filter: drop-shadow(0 8px 18px rgba(0,0,0,.08)) !important;
  }
  .col-izq{ align-content: start !important; justify-items: start !important; }
}





/* --- Mostrar el fumigador en móviles dentro de #contacto --- */
@media (max-width: 768px){
  #contacto .fumigador-img{
    display: block !important;
    width: min(55vw, 220px);
    height: auto;
    margin: 0 auto 12px;          /* centrado y con aire */
    filter: drop-shadow(0 8px 18px rgba(0,0,0,.08));
  }

  /* (opcional) forzar 1 columna y centrar la columna izquierda */
  #contacto .contacto-grid2{ grid-template-columns: 1fr !important; }
  #contacto .col-izq{ justify-items: center !important; }
}
